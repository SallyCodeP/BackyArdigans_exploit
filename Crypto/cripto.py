from string import ascii_lowercase
from random import randint, choice


alfabeto = list(ascii_lowercase)


def gerar_chave():
    chave = list()
    tamanho = randint(40, 80)
    for _ in range(0, tamanho):
        chave.append(choice(alfabeto))
    return "".join(chave)


def criptografar(word, key):
    cripto_array = list()
    key_array = list()
    for letter in range(0, len(word)):
        if not word[letter] in alfabeto:
            cripto_array.append(word[letter])
        else:
            cripto_array.append(alfabeto.index(word[letter]))
            key_array.append(alfabeto.index(key[letter]))
    return transformador(cripto_array, key_array)


def transformador(palavra, indexkey):
    cripto = list()
    indexx = 0
    for numero, local in enumerate(palavra):
        if not local in alfabeto:
            cripto.append(local)
        else:
            gerador = alfabeto[local:]
            total = 26 - len(gerador)
            for num in range(0, total):
                gerador.append(alfabeto[num])
            cripto.append(gerador[indexkey[indexx]])
            indexx += 1
    return "".join(cripto), indexkey



criptografar("pato", gerar_chave())



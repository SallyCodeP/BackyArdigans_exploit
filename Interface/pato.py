from PyQt5.QtWidgets import QMainWindow, QMessageBox
from PyQt5 import QtWidgets, QtGui, QtCore
from threading import Thread


class Interface(QMainWindow):
    def __init__(self):
        super().__init__()
        self.setFixedSize(760, 480)

    def iniar(self):
        self.setObjectName("tela_de_fundo")
        self.resize(760, 480)
        self.setStyleSheet("\n"
                                    "background-color:qlineargradient(spread:pad, x1:0.055, y1:0.319, x2:0.696493, y2:0.857, stop:0.537313 rgba(0, 213, 225, 244), stop:0.825871 rgba(15, 155, 255, 219));\n"
                                    "\n"
                                    "")
        self.centralwidget = QtWidgets.QWidget(self)
        self.centralwidget.setObjectName("centralwidget")
        self.infor_sock = QtWidgets.QFrame(self.centralwidget)
        self.infor_sock.setGeometry(QtCore.QRect(300, 80, 451, 291))
        self.infor_sock.setStyleSheet("#infor_sock {\n"
                                      "    border-style: solid;\n"
                                      "    border-color: white;\n"
                                      "    border-width: 2px;\n"
                                      "    border-radius: 5px;\n"
                                      "    background-color: rgb(49, 49, 49);\n"
                                      "}")
        self.infor_sock.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.infor_sock.setFrameShadow(QtWidgets.QFrame.Raised)
        self.infor_sock.setObjectName("infor_sock")
        self.shutdown_command = QtWidgets.QPushButton(self.infor_sock)
        self.shutdown_command.setGeometry(QtCore.QRect(310, 20, 121, 41))
        font = QtGui.QFont()
        font.setPointSize(9)
        font.setBold(True)
        font.setWeight(75)
        self.shutdown_command.setFont(font)
        self.shutdown_command.setStyleSheet("#shutdown_command {\n"
                                            "    border-radius: 5px;    \n"
                                            "    background-color: rgb(0, 0, 0);\n"
                                            "    border-style: outset;\n"
                                            "    border-width: 1px;\n"
                                            "    border-color: white;\n"
                                            "    color: white\n"
                                            "}\n"
                                            "\n"
                                            "\n"
                                            "#shutdown_command:hover {\n"
                                            "    background-color: white;\n"
                                            "    color: black;\n"
                                            "    \n"
                                            "}")
        self.shutdown_command.setObjectName("shutdown_command")
        self.shutdown_command.setCursor(QtGui.QCursor(QtCore.Qt.PointingHandCursor))
        self.kill_command = QtWidgets.QPushButton(self.infor_sock)
        self.kill_command.setGeometry(QtCore.QRect(310, 90, 121, 41))
        font = QtGui.QFont()
        font.setPointSize(9)
        font.setBold(True)
        font.setWeight(75)
        self.kill_command.setFont(font)
        self.kill_command.setStyleSheet("#kill_command {\n"
                                        "    border-radius: 5px;    \n"
                                        "    background-color: rgb(0, 0, 0);\n"
                                        "    border-style: outset;\n"
                                        "    border-width: 1px;\n"
                                        "    border-color: white;\n"
                                        "    color: white\n"
                                        "}\n"
                                        "\n"
                                        "\n"
                                        "#kill_command:hover {\n"
                                        "    background-color: white;\n"
                                        "    color: black;\n"
                                        "    \n"
                                        "}")
        self.kill_command.setObjectName("kill_command")
        self.kill_command.setCursor(QtGui.QCursor(QtCore.Qt.PointingHandCursor))
        self.PopUp_command = QtWidgets.QPushButton(self.infor_sock)
        self.PopUp_command.setGeometry(QtCore.QRect(20, 20, 121, 41))
        font = QtGui.QFont()
        font.setPointSize(9)
        font.setBold(True)
        font.setWeight(75)
        self.PopUp_command.setFont(font)
        self.PopUp_command.setStyleSheet("#PopUp_command {\n"
                                         "    border-radius: 5px;    \n"
                                         "    background-color: rgb(0, 0, 0);\n"
                                         "    border-style: outset;\n"
                                         "    border-width: 1px;\n"
                                         "    border-color: white;\n"
                                         "    color: white\n"
                                         "}\n"
                                         "\n"
                                         "#PopUp_command:hover {\n"
                                         "    background-color: white;\n"
                                         "    color: black;\n"
                                         "    \n"
                                         "}")
        self.PopUp_command.setCursor(QtGui.QCursor(QtCore.Qt.PointingHandCursor))
        self.PopUp_command.setObjectName("PopUp_command")
        self.printscreen_command = QtWidgets.QPushButton(self.infor_sock)
        self.printscreen_command.setGeometry(QtCore.QRect(170, 20, 121, 41))
        font = QtGui.QFont()
        font.setPointSize(9)
        font.setBold(True)
        font.setWeight(75)
        self.printscreen_command.setFont(font)
        self.printscreen_command.setStyleSheet("#printscreen_command {\n"
                                               "    border-radius: 5px;    \n"
                                               "    background-color: rgb(0, 0, 0);\n"
                                               "    border-style: outset;\n"
                                               "    border-width: 1px;\n"
                                               "    border-color: white;\n"
                                               "    color: white\n"
                                               "}\n"
                                               "\n"
                                               "#printscreen_command:hover {\n"
                                               "    background-color: white;\n"
                                               "    color: black;\n"
                                               "    \n"
                                               "}")
        self.printscreen_command.setCursor(QtGui.QCursor(QtCore.Qt.PointingHandCursor))
        self.printscreen_command.setObjectName("printscreen_command")
        self.terminal_command = QtWidgets.QPushButton(self.infor_sock)
        self.terminal_command.setGeometry(QtCore.QRect(310, 230, 121, 41))
        font = QtGui.QFont()
        font.setPointSize(9)
        font.setBold(True)
        font.setWeight(75)
        self.terminal_command.setFont(font)
        self.terminal_command.setStyleSheet("#terminal_command {\n"
                                            "    border-radius: 5px;    \n"
                                            "    background-color: rgb(0, 0, 0);\n"
                                            "    border-style: outset;\n"
                                            "    border-width: 1px;\n"
                                            "    border-color: white;\n"
                                            "    color: white\n"
                                            "}\n"
                                            "\n"
                                            "#terminal_command:hover {\n"
                                            "    background-color: white;\n"
                                            "    color: black;\n"
                                            "    \n"
                                            "}")
        self.terminal_command.setCursor(QtGui.QCursor(QtCore.Qt.PointingHandCursor))
        self.terminal_command.setObjectName("terminal_command")
        self.webpage_command = QtWidgets.QPushButton(self.infor_sock)
        self.webpage_command.setGeometry(QtCore.QRect(20, 90, 121, 41))
        font = QtGui.QFont()
        font.setPointSize(9)
        font.setBold(True)
        font.setWeight(75)
        self.webpage_command.setFont(font)
        self.webpage_command.setStyleSheet("#webpage_command {\n"
                                           "    border-radius: 5px;    \n"
                                           "    background-color: rgb(0, 0, 0);\n"
                                           "    border-style: outset;\n"
                                           "    border-width: 1px;\n"
                                           "    border-color: white;\n"
                                           "    color: white\n"
                                           "}\n"
                                           "\n"
                                           "#webpage_command:hover {\n"
                                           "    background-color: white;\n"
                                           "    color: black;\n"
                                           "    \n"
                                           "}")
        self.webpage_command.setCursor(QtGui.QCursor(QtCore.Qt.PointingHandCursor))
        self.webpage_command.setObjectName("webpage_command")
        self.background_command = QtWidgets.QPushButton(self.infor_sock)
        self.background_command.setGeometry(QtCore.QRect(20, 230, 121, 41))
        font = QtGui.QFont()
        font.setPointSize(8)
        font.setBold(True)
        font.setWeight(75)
        self.background_command.setFont(font)
        self.background_command.setStyleSheet("#background_command {\n"
                                              "    border-radius: 5px;    \n"
                                              "    background-color: rgb(0, 0, 0);\n"
                                              "    border-style: outset;\n"
                                              "    border-width: 1px;\n"
                                              "    border-color: white;\n"
                                              "    color: white\n"
                                              "}\n"
                                              "\n"
                                              "#background_command:hover {\n"
                                              "    background-color: white;\n"
                                              "    color: black;\n"
                                              "    \n"
                                              "}")
        self.background_command.setCursor(QtGui.QCursor(QtCore.Qt.PointingHandCursor))
        self.background_command.setObjectName("background_command")
        self.window_command = QtWidgets.QPushButton(self.infor_sock)
        self.window_command.setGeometry(QtCore.QRect(170, 90, 121, 41))
        font = QtGui.QFont()
        font.setPointSize(9)
        font.setBold(True)
        font.setWeight(75)
        self.window_command.setFont(font)
        self.window_command.setStyleSheet("#window_command {\n"
                                       "    border-radius: 5px;    \n"
                                       "    background-color: rgb(0, 0, 0);\n"
                                       "    border-style: outset;\n"
                                       "    border-width: 1px;\n"
                                       "    border-color: white;\n"
                                       "    color: white\n"
                                       "}\n"
                                       "\n"
                                       "#window_command:hover {\n"
                                       "    background-color: white;\n"
                                       "    color: black;\n"
                                       "    \n"
                                       "}")
        self.window_command.setCursor(QtGui.QCursor(QtCore.Qt.PointingHandCursor))
        self.window_command.setObjectName("window_command")
        self.process_command = QtWidgets.QPushButton(self.infor_sock)
        self.process_command.setGeometry(QtCore.QRect(170, 230, 121, 41))
        font = QtGui.QFont()
        font.setPointSize(9)
        font.setBold(True)
        font.setWeight(75)
        self.process_command.setFont(font)
        self.process_command.setStyleSheet("#process_command {\n"
                                           "    border-radius: 5px;    \n"
                                           "    background-color: rgb(0, 0, 0);\n"
                                           "    border-style: outset;\n"
                                           "    border-width: 1px;\n"
                                           "    border-color: white;\n"
                                           "    color: white\n"
                                           "}\n"
                                           "\n"
                                           "#process_command:hover {\n"
                                           "    background-color: white;\n"
                                           "    color: black;\n"
                                           "    \n"
                                           "}")
        self.process_command.setCursor(QtGui.QCursor(QtCore.Qt.PointingHandCursor))
        self.process_command.setObjectName("process_command")
        self.savepresence_command = QtWidgets.QPushButton(self.infor_sock)
        self.savepresence_command.setGeometry(QtCore.QRect(310, 160, 121, 41))
        font = QtGui.QFont()
        font.setPointSize(8)
        font.setBold(True)
        font.setWeight(75)
        self.savepresence_command.setFont(font)
        self.savepresence_command.setStyleSheet("#savepresence_command {\n"
                                            "    border-radius: 5px;    \n"
                                            "    background-color: rgb(0, 0, 0);\n"
                                            "    border-style: outset;\n"
                                            "    border-width: 1px;\n"
                                            "    border-color: white;\n"
                                            "    color: white\n"
                                            "}\n"
                                            "\n"
                                            "#savepresence_command:hover {\n"
                                            "    background-color: white;\n"
                                            "    color: black;\n"
                                            "    \n"
                                            "}")
        self.savepresence_command.setCursor(QtGui.QCursor(QtCore.Qt.PointingHandCursor))
        self.savepresence_command.setObjectName("savepresence_command")
        self.openapp_command = QtWidgets.QPushButton(self.infor_sock)
        self.openapp_command.setGeometry(QtCore.QRect(20, 160, 121, 41))
        font = QtGui.QFont()
        font.setPointSize(9)
        font.setBold(True)
        font.setWeight(75)
        self.openapp_command.setFont(font)
        self.openapp_command.setStyleSheet("#openapp_command {\n"
                                           "    border-radius: 5px;    \n"
                                           "    background-color: rgb(0, 0, 0);\n"
                                           "    border-style: outset;\n"
                                           "    border-width: 1px;\n"
                                           "    border-color: white;\n"
                                           "    color: white\n"
                                           "}\n"
                                           "\n"
                                           "#openapp_command:hover {\n"
                                           "    background-color: white;\n"
                                           "    color: black;\n"
                                           "    \n"
                                           "}")
        self.openapp_command.setCursor(QtGui.QCursor(QtCore.Qt.PointingHandCursor))
        self.openapp_command.setObjectName("openapp_command")
        self.key_command = QtWidgets.QPushButton(self.infor_sock)
        self.key_command.setGeometry(QtCore.QRect(170, 160, 121, 41))
        font = QtGui.QFont()
        font.setPointSize(9)
        font.setBold(True)
        font.setWeight(75)
        self.key_command.setFont(font)
        self.key_command.setStyleSheet("#key_command {\n"
                                          "    border-radius: 5px;    \n"
                                          "    background-color: rgb(0, 0, 0);\n"
                                          "    border-style: outset;\n"
                                          "    border-width: 1px;\n"
                                          "    border-color: white;\n"
                                          "    color: white\n"
                                          "}\n"
                                          "\n"
                                          "#key_command:hover {\n"
                                          "    background-color: white;\n"
                                          "    color: black;\n"
                                          "    \n"
                                          "}")
        self.key_command.setCursor(QtGui.QCursor(QtCore.Qt.PointingHandCursor))
        self.key_command.setObjectName("key_command")
        self.shutdown_server = QtWidgets.QFrame(self.centralwidget)
        self.shutdown_server.setGeometry(QtCore.QRect(300, 380, 451, 71))
        self.shutdown_server.setStyleSheet("#shutdown_server {\n"
                                           "    border-style: solid;\n"
                                           "    border-color: white;\n"
                                           "    border-width: 2px;\n"
                                           "    border-radius: 5px;\n"
                                           "    background-color: rgb(49, 49, 49);;\n"
                                           "}")
        self.shutdown_server.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.shutdown_server.setFrameShadow(QtWidgets.QFrame.Raised)
        self.shutdown_server.setObjectName("shutdown_server")
        self.click_server = QtWidgets.QSlider(self.shutdown_server)
        self.click_server.setGeometry(QtCore.QRect(190, 10, 81, 51))
        self.click_server.setStyleSheet("#click_server {\n"
                                        "    background-color: rgb(0,0,0,0);\n"
                                        "}\n"
                                        "QSlider::groove:horizontal {\n"
                                        "    border: 0px solid;\n"
                                        "    border-radius: 16;\n"
                                        "    background-color: white;\n"
                                        "    border-color: white;\n"
                                        "    height: 32px;\n"
                                        "    }\n"
                                        "QSlider::handle:horizontal {\n"
                                        "    background-color: rgb(88, 255, 141);\n"
                                        "    width: 45px;\n"
                                        "    border-radius: 14px;\n"
                                        "    border-style: solid;\n"
                                        "    border-color: black;\n"
                                        "        \n"
                                        "}")
        self.click_server.setOrientation(QtCore.Qt.Horizontal)
        self.click_server.setObjectName("click_server")
        self.click_server.setSliderPosition(100)

        self.slider_button_try = QtWidgets.QPushButton(self.shutdown_server)
        self.slider_button_try.setGeometry(QtCore.QRect(190, 10, 81, 51))
        self.slider_button_try.setStyleSheet("background-color: rgb(0,0,0,0);\n"
                                             "border-radius: 14px;")
        self.slider_button_try.setCursor(QtGui.QCursor(QtCore.Qt.PointingHandCursor))

        self.on_label = QtWidgets.QLabel(self.shutdown_server)
        self.on_label.setGeometry(QtCore.QRect(290, 20, 31, 31))
        font = QtGui.QFont()
        font.setPointSize(11)
        self.on_label.setFont(font)
        self.on_label.setStyleSheet("#on_label {\n"
                                    "    background-color: rgb(0,0,0,0);\n"
                                    "    color: white;\n"
                                    "}\n"
                                    "\n"
                                    "#on_label:hover {\n"
                                    "    color: rgb(0, 255, 30);\n"
                                    "    \n"
                                    "}")
        self.on_label.setObjectName("on_label")
        self.off_label = QtWidgets.QLabel(self.shutdown_server)
        self.off_label.setGeometry(QtCore.QRect(140, 19, 31, 31))
        font = QtGui.QFont()
        font.setPointSize(11)
        self.off_label.setFont(font)
        self.off_label.setStyleSheet("#off_label {\n"
                                     "    background-color: rgb(0,0,0,0);\n"
                                     "    color: white;\n"
                                     "}\n"
                                     "\n"
                                     "#off_label:hover {\n"
                                     "    color: rgb(255, 0, 0);\n"
                                     "}")
        self.off_label.setObjectName("off_label")
        self.titulo = QtWidgets.QFrame(self.centralwidget)
        self.titulo.setGeometry(QtCore.QRect(10, 80, 281, 41))
        self.titulo.setStyleSheet("#titulo {\n"
                                  "    border-style: solid;\n"
                                  "    border-color: white;\n"
                                  "    border-width: 2px;\n"
                                  "    border-radius: 5px;\n"
                                  "    background-color: rgb(49, 49, 49);\n"
                                  "\n"
                                  "}")
        self.titulo.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.titulo.setFrameShadow(QtWidgets.QFrame.Raised)
        self.titulo.setObjectName("titulo")
        self.label_maquinas_conectadas = QtWidgets.QLabel(self.titulo)
        self.label_maquinas_conectadas.setGeometry(QtCore.QRect(0, 10, 281, 21))
        font = QtGui.QFont()
        font.setFamily("Microsoft Tai Le")
        font.setPointSize(10)
        self.label_maquinas_conectadas.setFont(font)
        self.label_maquinas_conectadas.setStyleSheet("background-color: rgb(0,0,0,0);\n"
                                                     "color: white;\n"
                                                     "")
        self.label_maquinas_conectadas.setAlignment(QtCore.Qt.AlignCenter)
        self.label_maquinas_conectadas.setObjectName("label_maquinas_conectadas")
        self.titulo_ip = QtWidgets.QFrame(self.centralwidget)
        self.titulo_ip.setGeometry(QtCore.QRect(9, 10, 741, 61))
        self.titulo_ip.setStyleSheet("#titulo_ip {\n"
                                     "    background-color: rgb(49, 49, 49);\n"
                                     "    border-style: outset;\n"
                                     "    border-color: white;\n"
                                     "    border-width: 1px;\n"
                                     "    border-radius: 3px;\n"
                                     "}\n"
                                     "    \n"
                                     "")
        self.titulo_ip.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.titulo_ip.setFrameShadow(QtWidgets.QFrame.Raised)
        self.titulo_ip.setObjectName("titulo_ip")
        self.IP_names = QtWidgets.QLabel(self.titulo_ip)
        self.IP_names.setGeometry(QtCore.QRect(10, 10, 721, 41))
        font = QtGui.QFont()
        font.setPointSize(12)
        self.IP_names.setFont(font)
        self.IP_names.setAlignment(QtCore.Qt.AlignCenter)
        self.IP_names.setObjectName("IP_names")
        self.IP_names.setStyleSheet(u"#IP_names {\n"
                                    "	color: white;\n"
                                    "	background-color: rgb(0,0,0,0);\n"
                                    "	border-radius: 15px;\n"
                                    "}\n")
        self.painel = QtWidgets.QListWidget(self.centralwidget)
        self.painel.setGeometry(QtCore.QRect(10, 130, 281, 321))
        self.painel.setStyleSheet("#painel {\n"
                                  "    border-style: solid;\n"
                                  "    border-color: white;\n"
                                  "    border-width: 2px;\n"
                                  "    border-radius: 5px;\n"
                                  "    background-color: rgb(49, 49, 49);\n"
                                  "    color: white;\n"
                                  "}\n"
                                  "#painel::item{\n"
                                  "    height: 35px;\n"
                                  "    width: 40px;\n"
                                  "    margin: 1em;\n"
                                  "    border-style: solid;\n"
                                  "    border-color: white;\n"
                                  "    border-width: 2px;\n"
                                  "    border-radius: 5px;\n"
                                  "    background-color: rgb(49, 49, 49);\n"
                                  "    color: white;\n"
                                  "}\n")

        self.painel.setIconSize(QtCore.QSize(451, 291))
        self.painel.setTextElideMode(QtCore.Qt.ElideMiddle)
        self.painel.setGridSize(QtCore.QSize(0, 0))
        self.painel.setItemAlignment(QtCore.Qt.AlignCenter)
        self.painel.setObjectName("painel")
        self.setCentralWidget(self.centralwidget)
        self.statusbar = QtWidgets.QStatusBar(self)
        self.statusbar.setObjectName("statusbar")
        self.setStatusBar(self.statusbar)
        self.change_client_ip = QtWidgets.QPushButton(self.titulo_ip)
        self.change_client_ip.setObjectName(u"change_client_ip")
        self.change_client_ip.setGeometry(QtCore.QRect(10, 10, 721, 41))
        self.change_client_ip.setStyleSheet(u"#change_client_ip {\n"
                                            "	background-color: rgb(0,0,0,0);\n"
                                            "}")
        self.retranslateui()
        QtCore.QMetaObject.connectSlotsByName(self)

    def retranslateui(self):
        _translate = QtCore.QCoreApplication.translate
        self.setWindowTitle(_translate("tela_de_fundo", "MainWindow"))
        self.shutdown_command.setText(_translate("tela_de_fundo", "Desligar"))
        self.kill_command.setText(_translate("tela_de_fundo", "Fechar app"))
        self.PopUp_command.setText(_translate("tela_de_fundo", "Abrir PopUp"))
        self.printscreen_command.setText(_translate("tela_de_fundo", "Printar tela"))
        self.terminal_command.setText(_translate("tela_de_fundo", "Terminal"))
        self.webpage_command.setText(_translate("tela_de_fundo", "Pagina web"))
        self.background_command.setText(_translate("tela_de_fundo", "Enviar arquivo"))
        self.window_command.setText(_translate("tela_de_fundo", "Ver Tela"))
        self.process_command.setText(_translate("tela_de_fundo", "Ver processos"))
        self.savepresence_command.setText(_translate("tela_de_fundo", "Salvar presença"))
        self.openapp_command.setText(_translate("tela_de_fundo", "Abrir app"))
        self.key_command.setText(_translate("tela_de_fundo", "Reiniciar"))
        self.on_label.setText(_translate("tela_de_fundo", "On"))
        self.off_label.setText(_translate("tela_de_fundo", "Off"))
        self.label_maquinas_conectadas.setText(_translate("tela_de_fundo", "Maquinas conectadas "))
        self.IP_names.setText(_translate("tela_de_fundo", "192.168.15.71 ---> Phelipe"))
        self.change_client_ip.setText("")

    def change(self):
        self.real = self.click_server.value()
        if self.real == 0:
            self.click_server.setSliderPosition(100)
            self.click_server.setStyleSheet("#click_server {\n"
                                            "   background-color: rgb(0,0,0,0);\n"
                                            "}\n"
                                            "QSlider::groove:horizontal {\n"
                                            "   border: 0px solid;\n"
                                            "   border-radius: 16;\n"
                                            "   background-color: white;\n"
                                            "   border-color: white;\n"
                                            "   height: 32px;\n"
                                            "}\n"
                                            "QSlider::handle:horizontal {\n"
                                            "background-color: rgb(88, 255, 141);\n"
                                            "width: 45px;\n"
                                            "border-radius: 14px;\n"
                                            "border-style: solid;\n"
                                            "border-color: black;\n"
                                            "}")

        else:
            self.click_server.setSliderPosition(0)
            self.click_server.setStyleSheet("#click_server {\n"
                                            "   background-color: rgb(0,0,0,0);\n"
                                            "}\n"
                                            "QSlider::groove:horizontal {\n"
                                            "   border: 0px solid;\n"
                                            "   border-radius: 16;\n"
                                            "   background-color: white;\n"
                                            "   border-color: white;\n"
                                            "   height: 32px;\n"
                                            "}\n"
                                            "QSlider::handle:horizontal {\n"
                                            "background-color: rgb(218, 47, 47);\n"
                                            "width: 45px;\n"
                                            "border-radius: 14px;\n"
                                            "border-style: solid;\n"
                                            "border-color: black;\n"
                                            "}")




